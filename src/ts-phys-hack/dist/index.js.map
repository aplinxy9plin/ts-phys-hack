{"version":3,"file":"index.js","sources":["../src/index.tsx"],"sourcesContent":["import React from 'react'\n\ninterface Props {\n  api: string\n  children: React.Component\n}\n\nexport class index extends React.Component<Props> {\n  constructor(props: any) {\n    super(props)\n    this.state = {}\n  }\n\n  async componentDidCatch(_error: Error) {\n    console.log(_error);\n    const myHeaders = new Headers()\n    myHeaders.append('Content-Type', 'application/json')\n    const raw = JSON.stringify({\n      error: _error\n    })\n\n    const { api } = this.props\n\n    await fetch(api + '/book/sendError', {\n      method: 'POST',\n      headers: myHeaders,\n      body: raw,\n      redirect: 'follow'\n    })\n    console.log('Request sent.')\n  }\n\n  render() {\n    return <div>{this.props.children}</div>\n  }\n}\n\nexport default index\n"],"names":["index","props","state","componentDidCatch","_error","console","log","myHeaders","Headers","append","raw","JSON","stringify","error","api","fetch","method","headers","body","redirect","render","React","children","Component"],"mappings":";;;;;;;;;;IAOaA,KAAb;AAAA;;AACE,iBAAYC,KAAZ;;;AACE,wCAAMA,KAAN;AACA,UAAKC,KAAL,GAAa,EAAb;;AACD;;AAJH;;AAAA,SAMQC,iBANR,8BAM0BC,MAN1B;AAAA;mBAcoB;;AAPhBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACA,UAAMG,SAAS,GAAG,IAAIC,OAAJ,EAAlB;AACAD,MAAAA,SAAS,CAACE,MAAV,CAAiB,cAAjB,EAAiC,kBAAjC;AACA,UAAMC,GAAG,GAAGC,IAAI,CAACC,SAAL,CAAe;AACzBC,QAAAA,KAAK,EAAET;AADkB,OAAf,CAAZ;UAIQU,MAAQ,OAAKb,MAAba;6BAEFC,KAAK,CAACD,GAAG,GAAG,iBAAP,EAA0B;AACnCE,QAAAA,MAAM,EAAE,MAD2B;AAEnCC,QAAAA,OAAO,EAAEV,SAF0B;AAGnCW,QAAAA,IAAI,EAAER,GAH6B;AAInCS,QAAAA,QAAQ,EAAE;AAJyB,OAA1B;AAMXd,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;;AACD,KAvBH;AAAA;AAAA;AAAA;;AAAA,SAyBEc,MAzBF,GAyBE;AACE,WAAOC,mBAAA,MAAA,MAAA,EAAM,KAAKpB,KAAL,CAAWqB,QAAjB,CAAP;AACD,GA3BH;;AAAA;AAAA,EAA2BD,KAAK,CAACE,SAAjC;;;;;"}